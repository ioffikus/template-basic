
Компонент PendingNavDataLoader пока выполняет три функции:

1. как следует из его названия, ожидание загрузки данных при навигации
2. выставление флагов abortToken для прекращения загрузки неактуальных данных
3. выставление флага isLoading в ducks/progress для отображения Spin

Все эти функции компонент выполняет только в режиме SPA, т.к. в режиме SSR такое не требуется. 

Как это работает?

При изменении location, в lifecycle-методе componentWillReceiveProps выставляется флаг isPreviousLocation, который запрещает обновление компонента в lifecycle-методе shouldComponentUpdate (но когда новые данные будут загружены, выключение этого флага инициирует обновление компонента).

Функция matchRoutes из react-router-config проходит по дереву src/routes и возвращает ветку из вложенных компонентов для роута нового location. Далее для каждого такого компонента вызывается статический асинхронный метод fetchData (статический - потому что компоненты еще не инстанциированы, асинхронный - возвращает Promise по соглашению) с параметром abortToken, о котором будет сказана ниже. 

Метод fetchData имеет смысл реализовывать только для компонентов, которые участвуют в src/routes; для остальных компонентов метов fetchData никогда не будет вызван.

Метод fetchData вызывается аналогичным образом в режиме SSR (только с пустым параметром abortToken, т.к. механизм отмены запросов к API не используется в режиме SSR) внутри src/server/routes/react, благодаря чему мы имеем единообразный способ начальной загрузки данных как для SSR, так и для SPA. 

Импорт объекта abortTokenPool из src/core/API нужен, чтобы складывать туда abortToken-ы, по которым требуется отменить запросы к API - реализовано на перехватчиках (axios.interceptors.request и axios.interceptors.response).

В компоненте PendingNavDataLoader есть поле pendingAbortToken. Если пользователь выполнит переход на новую страницу, не дождавшись загрузки данных из API для текущей страницы, то pendingAbortToken попадает в abortTokenPool, чтобы отменить загрузку данных из API для ожидаемого abortToken.

Идея заимствована тут: https://www.npmjs.com/package/react-router-config
